{% extends "base.html" %}

{% block title %}댓글 단 글{% endblock %}

{% block content %}

<h1 class="page-title" style="display:flex; align-items:center; gap:6px;">

    <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10.5 24.5H31.5V21H10.5V24.5ZM10.5 19.25H31.5V15.75H10.5V19.25ZM7 38.5C6.125 38.5 5.39062 38.1875 4.79688 37.5625C4.20312 36.9375 3.90625 36.2188 3.90625 35.4062V7C3.90625 6.1875 4.20312 5.46875 4.79688 4.84375C5.39062 4.21875 6.125 3.90625 7 3.90625H35C35.875 3.90625 36.6094 4.21875 37.2031 4.84375C37.7969 5.46875 38.0938 6.1875 38.0938 7V29.9688C38.0938 30.75 37.7969 31.4531 37.2031 32.0781C36.6094 32.7031 35.875 33.0156 35 33.0156H12.2812L7 38.5ZM7 28H32.9875L35 29.9688V7H7V28Z" fill="#0217C2"/>
    </svg>

    댓글 단 글
</h1>

<style>
/* 카드 전체 스타일 */
.post-card {
    border: 1px solid #ddd;
    border-radius: 12px;
    padding: 18px;
    margin-bottom: 16px;
    background-color: #fff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    transition: transform 0.2s, box-shadow 0.2s;
}

.post-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* 댓글 작성자 및 내용 */
.post-card-title {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 8px;
}

.post-card-title a {
    text-decoration: none;
    color: #000;
}

.post-card-title a:hover {
    color: #007bff;
}

.post-card p {
    font-size: 14px;
    color: #444;
    margin: 4px 0;
}

/* 카테고리 스타일 */
.post-card-category {
    font-size: 12px;
    display: inline-block;
    padding: 4px 8px;
    border-radius: 6px;
    background-color: #eef1ff;
    color: #2f3ecf;
    margin-bottom: 8px;
    font-weight: 600;
}

.post-card-info {
    display: flex;
    gap: 18px;
    font-size: 13px;
    color: #7a7a7a;
}

.post-card-info span {
    display: flex;
    align-items: center;
    gap: 4px;
}
</style>

<!-- 내가 작성한 댓글 목록 -->
{% if comments %}
    {% for comment in comments %}
    <div class="post-card">
        
        <!-- 댓글이 달린 게시글의 카테고리만 표시 -->
        <div class="post-card-category">
            <a href="{% url 'board:post_detail' comment.post.pk %}">
                {{ comment.post.get_category_display }}
            </a>
        </div>

        <div class="post-card-title">
            <a href="{% url 'board:post_detail' comment.post.pk %}">
                {{ comment.post.title }}
            </a>
        </div>

        <p style="font-size: 14px;">
            작성자: 
            {% if comment.user %}
                {{ comment.user.username }}
            {% else %}
                익명
            {% endif %}
            | 좋아요: {{ comment.post.like_count }}
        </p>

        <div class="post-card-info">
            <span>
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_70_183)">
                        <path d="M3.5 5.5L5.5 1C5.89782 1 6.27936 1.15804 6.56066 1.43934C6.84196 1.72064 7 2.10218 7 2.5V4.5H9.83C9.97495 4.49836 10.1185 4.52825 10.2508 4.58761C10.383 4.64697 10.5008 4.73437 10.5959 4.84376C10.6911 4.95315 10.7613 5.08191 10.8017 5.22113C10.8421 5.36034 10.8518 5.50668 10.83 5.65L10.14 10.15C10.1038 10.3885 9.98272 10.6058 9.79895 10.762C9.61519 10.9182 9.38116 11.0027 9.14 11H3.5M3.5 5.5V11M3.5 5.5H2C1.73478 5.5 1.48043 5.60536 1.29289 5.79289C1.10536 5.98043 1 6.23478 1 6.5V10C1 10.2652 1.10536 10.5196 1.29289 10.7071C1.48043 10.8946 1.73478 11 2 11H3.5" stroke="#BA1A1A" stroke-opacity="0.4" stroke-linecap="round" stroke-linejoin="round"/>
                    </g>
                </svg>

                {{ comment.post.like_count }}
            </span>

            <span>
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.5 7.5C1.5 7.76522 1.60536 8.01957 1.79289 8.20711C1.98043 8.39464 2.23478 8.5 2.5 8.5H8.5L10.5 10.5V2.5C10.5 2.23478 10.3946 1.98043 10.2071 1.79289C10.0196 1.60536 9.76522 1.5 9.5 1.5H2.5C2.23478 1.5 1.98043 1.60536 1.79289 1.79289C1.60536 1.98043 1.5 2.23478 1.5 2.5V7.5Z" stroke="#000477" stroke-opacity="0.37" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                {{ comment.post.comment_set.count }}
            </span>

            <span>작성일: {{ comment.created_at|date:"Y-m-d H:i" }}</span>
        </div>

    </div>
    {% endfor %}
{% else %}
    <p>아직 작성한 댓글이 없습니다.</p>
{% endif %}

{% endblock %}
